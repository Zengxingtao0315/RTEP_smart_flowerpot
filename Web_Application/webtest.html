<!DOCTYPE html>
<html>
<head>
    <title>Real-time C++ Data</title>
</head>
<body>
    <h1>Real-time C++ Data</h1>
    <div id="dataContainer"></div>

    <script>
        // 创建WebSocket连接
        const socket = new WebSocket("ws://192.168.0.51:8080"); // 这里的地址要和C++服务器地址匹配

        // 在连接建立时
        socket.onopen = function (event) {
            console.log("WebSocket connection established.");
        };

        // 在接收到消息时
        socket.onmessage = function (event) {
            const data = event.data;
            console.log("Received data from C++: " + data);

            // 将数据展示在网页上
            const dataContainer = document.getElementById("dataContainer");
            dataContainer.innerHTML = data;
        };

        // 在连接关闭时
        socket.onclose = function (event) {
            console.log("WebSocket connection closed.");
        };
    </script>
</body>
</html>
